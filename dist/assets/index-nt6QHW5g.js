let e=!1,n=!1;function r(){return typeof PushSubscriptionOptions<"u"&&PushSubscriptionOptions.prototype.hasOwnProperty("applicationServerKey")||window.safari&&typeof window.safari.pushNotification<"u"||window.top!==window&&"Apple Computer, Inc."===navigator.vendor&&"MacIntel"===navigator.platform}typeof window<"u"&&(window.OneSignalDeferred=window.OneSignalDeferred||[],function(){const e=document.createElement("script");e.id="onesignal-sdk",e.defer=!0,e.src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js",e.onerror=()=>{n=!0},document.head.appendChild(e)}());const i={get id(){var e,n,r;return null==(r=null==(n=null==(e=window.OneSignal)?void 0:e.User)?void 0:n.PushSubscription)?void 0:r.id},get token(){var e,n,r;return null==(r=null==(n=null==(e=window.OneSignal)?void 0:e.User)?void 0:n.PushSubscription)?void 0:r.token},get optedIn(){var e,n,r;return null==(r=null==(n=null==(e=window.OneSignal)?void 0:e.User)?void 0:n.PushSubscription)?void 0:r.optedIn},optIn:function(){return new Promise((e,r)=>{var i;n?r(new Error("OneSignal script failed to load.")):null==(i=window.OneSignalDeferred)||i.push(n=>{n.User.PushSubscription.optIn().then(()=>e()).catch(e=>r(e))})})},optOut:function(){return new Promise((e,r)=>{var i;n?r(new Error("OneSignal script failed to load.")):null==(i=window.OneSignalDeferred)||i.push(n=>{n.User.PushSubscription.optOut().then(()=>e()).catch(e=>r(e))})})},addEventListener:function(e,n){var r;null==(r=window.OneSignalDeferred)||r.push(r=>{r.User.PushSubscription.addEventListener(e,n)})},removeEventListener:function(e,n){var r;null==(r=window.OneSignalDeferred)||r.push(r=>{r.User.PushSubscription.removeEventListener(e,n)})}},o={get onesignalId(){var e,n;return null==(n=null==(e=window.OneSignal)?void 0:e.User)?void 0:n.onesignalId},get externalId(){var e,n;return null==(n=null==(e=window.OneSignal)?void 0:e.User)?void 0:n.externalId},addAlias:function(e,n){var r;null==(r=window.OneSignalDeferred)||r.push(r=>{r.User.addAlias(e,n)})},addAliases:function(e){var n;null==(n=window.OneSignalDeferred)||n.push(n=>{n.User.addAliases(e)})},removeAlias:function(e){var n;null==(n=window.OneSignalDeferred)||n.push(n=>{n.User.removeAlias(e)})},removeAliases:function(e){var n;null==(n=window.OneSignalDeferred)||n.push(n=>{n.User.removeAliases(e)})},addEmail:function(e){var n;null==(n=window.OneSignalDeferred)||n.push(n=>{n.User.addEmail(e)})},removeEmail:function(e){var n;null==(n=window.OneSignalDeferred)||n.push(n=>{n.User.removeEmail(e)})},addSms:function(e){var n;null==(n=window.OneSignalDeferred)||n.push(n=>{n.User.addSms(e)})},removeSms:function(e){var n;null==(n=window.OneSignalDeferred)||n.push(n=>{n.User.removeSms(e)})},addTag:function(e,n){var r;null==(r=window.OneSignalDeferred)||r.push(r=>{r.User.addTag(e,n)})},addTags:function(e){var n;null==(n=window.OneSignalDeferred)||n.push(n=>{n.User.addTags(e)})},removeTag:function(e){var n;null==(n=window.OneSignalDeferred)||n.push(n=>{n.User.removeTag(e)})},removeTags:function(e){var n;null==(n=window.OneSignalDeferred)||n.push(n=>{n.User.removeTags(e)})},getTags:async function(){var e;let n;return await(null==(e=window.OneSignalDeferred)?void 0:e.push(e=>{n=e.User.getTags()})),n},addEventListener:function(e,n){var r;null==(r=window.OneSignalDeferred)||r.push(r=>{r.User.addEventListener(e,n)})},removeEventListener:function(e,n){var r;null==(r=window.OneSignalDeferred)||r.push(r=>{r.User.removeEventListener(e,n)})},setLanguage:function(e){var n;null==(n=window.OneSignalDeferred)||n.push(n=>{n.User.setLanguage(e)})},getLanguage:async function(){var e;let n;return await(null==(e=window.OneSignalDeferred)?void 0:e.push(e=>{n=e.User.getLanguage()})),n},trackEvent:function(e,n){var r;null==(r=window.OneSignalDeferred)||r.push(r=>{r.User.trackEvent(e,n)})},PushSubscription:i},t={sendOutcome:function(e,r){return new Promise((i,o)=>{var t;n?o(new Error("OneSignal script failed to load.")):null==(t=window.OneSignalDeferred)||t.push(n=>{n.Session.sendOutcome(e,r).then(()=>i()).catch(e=>o(e))})})},sendUniqueOutcome:function(e){return new Promise((r,i)=>{var o;n?i(new Error("OneSignal script failed to load.")):null==(o=window.OneSignalDeferred)||o.push(n=>{n.Session.sendUniqueOutcome(e).then(()=>r()).catch(e=>i(e))})})}},a={setLogLevel:function(e){var n;null==(n=window.OneSignalDeferred)||n.push(n=>{n.Debug.setLogLevel(e)})}},l={login:function(e,r){return new Promise((i,o)=>{var t;n?o(new Error("OneSignal script failed to load.")):null==(t=window.OneSignalDeferred)||t.push(n=>{n.login(e,r).then(()=>i()).catch(e=>o(e))})})},logout:function(){return new Promise((e,r)=>{var i;n?r(new Error("OneSignal script failed to load.")):null==(i=window.OneSignalDeferred)||i.push(n=>{n.logout().then(()=>e()).catch(e=>r(e))})})},init:n=>{var r;return e?Promise.reject("OneSignal is already initialized."):n&&n.appId?document?(void 0!==(null==(r=n.welcomeNotification)?void 0:r.disabled)&&(n.welcomeNotification.disable=n.welcomeNotification.disabled),new Promise((r,i)=>{var o;null==(o=window.OneSignalDeferred)||o.push(o=>{o.init(n).then(()=>{e=!0,r()}).catch(i)})})):Promise.reject("Document is not defined."):Promise.reject("You need to provide your OneSignal appId.")},setConsentGiven:function(e){return new Promise((r,i)=>{var o;n?i(new Error("OneSignal script failed to load.")):null==(o=window.OneSignalDeferred)||o.push(n=>{n.setConsentGiven(e).then(()=>r()).catch(e=>i(e))})})},setConsentRequired:function(e){return new Promise((r,i)=>{var o;n?i(new Error("OneSignal script failed to load.")):null==(o=window.OneSignalDeferred)||o.push(n=>{n.setConsentRequired(e).then(()=>r()).catch(e=>i(e))})})},Slidedown:{promptPush:function(e){return new Promise((r,i)=>{var o;n?i(new Error("OneSignal script failed to load.")):null==(o=window.OneSignalDeferred)||o.push(n=>{n.Slidedown.promptPush(e).then(()=>r()).catch(e=>i(e))})})},promptPushCategories:function(e){return new Promise((r,i)=>{var o;n?i(new Error("OneSignal script failed to load.")):null==(o=window.OneSignalDeferred)||o.push(n=>{n.Slidedown.promptPushCategories(e).then(()=>r()).catch(e=>i(e))})})},promptSms:function(e){return new Promise((r,i)=>{var o;n?i(new Error("OneSignal script failed to load.")):null==(o=window.OneSignalDeferred)||o.push(n=>{n.Slidedown.promptSms(e).then(()=>r()).catch(e=>i(e))})})},promptEmail:function(e){return new Promise((r,i)=>{var o;n?i(new Error("OneSignal script failed to load.")):null==(o=window.OneSignalDeferred)||o.push(n=>{n.Slidedown.promptEmail(e).then(()=>r()).catch(e=>i(e))})})},promptSmsAndEmail:function(e){return new Promise((r,i)=>{var o;n?i(new Error("OneSignal script failed to load.")):null==(o=window.OneSignalDeferred)||o.push(n=>{n.Slidedown.promptSmsAndEmail(e).then(()=>r()).catch(e=>i(e))})})},addEventListener:function(e,n){var r;null==(r=window.OneSignalDeferred)||r.push(r=>{r.Slidedown.addEventListener(e,n)})},removeEventListener:function(e,n){var r;null==(r=window.OneSignalDeferred)||r.push(r=>{r.Slidedown.removeEventListener(e,n)})}},Notifications:{get permissionNative(){var e,n;return(null==(n=null==(e=window.OneSignal)?void 0:e.Notifications)?void 0:n.permissionNative)??"default"},get permission(){var e,n;return(null==(n=null==(e=window.OneSignal)?void 0:e.Notifications)?void 0:n.permission)??!1},setDefaultUrl:function(e){return new Promise((r,i)=>{var o;n?i(new Error("OneSignal script failed to load.")):null==(o=window.OneSignalDeferred)||o.push(n=>{n.Notifications.setDefaultUrl(e).then(()=>r()).catch(e=>i(e))})})},setDefaultTitle:function(e){return new Promise((r,i)=>{var o;n?i(new Error("OneSignal script failed to load.")):null==(o=window.OneSignalDeferred)||o.push(n=>{n.Notifications.setDefaultTitle(e).then(()=>r()).catch(e=>i(e))})})},isPushSupported:()=>r(),requestPermission:function(){return new Promise((e,r)=>{var i;n?r(new Error("OneSignal script failed to load.")):null==(i=window.OneSignalDeferred)||i.push(n=>{n.Notifications.requestPermission().then(n=>e(n)).catch(e=>r(e))})})},addEventListener:function(e,n){var r;null==(r=window.OneSignalDeferred)||r.push(r=>{r.Notifications.addEventListener(e,n)})},removeEventListener:function(e,n){var r;null==(r=window.OneSignalDeferred)||r.push(r=>{r.Notifications.removeEventListener(e,n)})}},Session:t,User:o,Debug:a};export{l as default};
